{% extends "base.html" %}
{% import 'macros.html' as macros %}
{% block content %}

<!-- Modal for Appointment Form -->
<div class="modal" tabindex="-1" role="dialog" id='appointment-form'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Create Appointment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
          {% include 'appointments/_appointment_form.html' %}
        </div>
    </div>
  </div>
</div>

<!-- Modal for Appointment Information -->
<div class="modal" tabindex="-1" role="dialog" id='appointment-info-modal'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title appointment-info-modal-title">Appointment Information</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
          <h5 id="appointment-info-modal-title"></h5>
          <br>
          <p id="appointment-info-modal-date-start"></p>
          <p id="appointment-info-modal-date-end"></p>
          <p id="appointment-info-modal-treatment"></p>
          <p id="appointment-info-modal-patient"></p>
          <p id="appointment-info-modal-user"></p>
          <p id="appointment-info-modal-description"></p>
        </div>
      <div class="modal-footer">
        <a id="appointment-edit-btn"><button type="button" class="btn btn-primary">Edit</button></a>
        <a id="appointment-delete-btn"><button type="button" class="btn btn-danger">Delete</button></a>
      </div>        
    </div>
  </div>
</div>

<!-- Calendar Header -->
<div class="row margin">
  <div class="col-12">
    {{macros.calendar_header_widget(year,num_to_month[month],get_prev_month(year,month),get_next_month(year,month),'appointments.list')}}

    <h1 class="text-center">
      <a href="{{url_for('appointments.list',year=get_prev_month(year,month).year,month=get_prev_month(year,month).month)}}">
      <svg class="bi bi-chevron-left" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
      </svg>
      </a>

      {{num_to_month[month]}} {{year}}  

      <a href="{{url_for('appointments.list',year=get_next_month(year,month).year,month=get_next_month(year,month).month)}}">
      <svg class="bi bi-chevron-right" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
      </svg>
      </a>
    </h1>
  </div>
  <div class="col-12 text-center">
    <button type="button" class="btn btn-info create-appointment-btn" data-toggle="modal" data-target="#appointment-form">
      CREATE APPOINTMENT
    </button>
  </div>
</div>
 
{% include "calendars/_month.html" %}
{% endblock %}